var e,n={message:'"subject" element is not valid',tip:"It should be a valid DOM (or shadow DOM) element"},t={message:'"eventName" is not valid',tip:'Please look into docs to find supported "eventName" values'},o={message:'"options" are not valid',tip:'Please look into docs to find supported "options" values'},s={message:"Selector is not valid",tip:"You should provide a non-empty selector string"},r={message:"Index number is not valid",tip:"It should be a positive or negative number within a range of collection"},a={message:"Text content is not valid",tip:"Text content is a string containing at least one symbol"},i=function(e){function n(t){for(var o=[],s=arguments.length-1;s-- >0;)o[s]=arguments[s+1];e.apply(this,o),e.captureStackTrace&&e.captureStackTrace(this,n),this.name="[cypress-shadow-dom error]",this.message=t.message+".\n"+t.tip}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n}(Error),u=function(e,n){if(!e||"object"!=typeof e)throw new i(o);Object.keys(e).forEach(function(e){if(!(e in n))throw new i(o)})},c=function(e){if(!e||"string"!=typeof e||e.length<1)throw new i(s)},d=function(e){if(!e)throw new i(n)},p=function(e){if(!e||"string"!=typeof e||e.length<1)throw new i(a)},l=function(e){if(!e||"string"!=typeof e)throw new i(t)},f=Object.freeze({timeout:4e3}),m=Object.freeze({force:!1,bubbles:!0,cancelable:!0,composed:!0}),h=Object.freeze({delay:10});function y(e,n,t){void 0===t&&(t={}),Cypress._.defaults(t,m),d(e),l(n),u(t,m),Cypress.log({name:"shadowTrigger",message:n,consoleProps:function(){return{eventName:n}}});var o=new CustomEvent(n,t);return e[0].dispatchEvent(o),e}function v(e,n){return void 0===n&&(n={}),Cypress.Promise.try(e).then(function(t){return Cypress.cy.verifyUpcomingAssertions(t,n,{onRetry:function(){return v(e,n)}})})}e={prevSubject:!0},Cypress.Commands.add("shadowClick",e,function(e,n){return y(e,"click",n)}),Cypress.Commands.add("shadowContains",e,function(e,n,t){void 0===t&&(t={}),Cypress._.defaults(t,f),d(e),p(n),u(t,f);var o=":contains("+n+")";return v(function(){var n=e.is(o)?e:Cypress.$(o,e);return n.length?n:Array.from(e).reduce(function(e,n){return n.shadowRoot?e.add(o,n.shadowRoot):e},Cypress.$([]))},t).then(function(e){return Cypress.log({name:"shadowContains",message:"'"+n+"'",consoleProps:function(){return{content:n,element:e}}}),e})}),Cypress.Commands.add("shadowEq",e,function(e,n,t){return void 0===t&&(t={}),Cypress._.defaults(t,f),d(e),function(e,t){if("number"!=typeof n||n<t[0]||n>t[1])throw new i(r)}(0,[-e.length,+e.length]),u(t,f),v(function(){return e[n<0?e.length+n:n]},t).then(function(e){return Cypress.log({name:"shadowEq",message:"':nth-child("+n+")'",consoleProps:function(){return{index:n,element:e}}}),e})}),Cypress.Commands.add("shadowFind",e,function(e,n,t){return void 0===t&&(t={}),Cypress._.defaults(t,f),d(e),c(n),u(t,f),v(function(){var t=Cypress.$(n,e);return t.length?t:Array.from(e).reduce(function(e,t){if(t.shadowRoot){var o=[].map.call(t.shadowRoot.children,function(e){return Cypress.$(e)}).find(function(e){return e.is(n)});if(o&&o.length)return e.add(o);var s=Cypress.$(t.shadowRoot.children).find(n);return e.add(s)}return e},Cypress.$([]))},t).then(function(e){return Cypress.log({name:"shadowFind",message:"'"+n+"'",consoleProps:function(){return{selector:n,foundElements:e}}}),e})}),Cypress.Commands.add("shadowFirst",e,function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,f),d(e),u(n,f),v(function(){return e[0]},n).then(function(e){return Cypress.log({name:"shadowFirst",consoleProps:function(){return{element:e}}}),e})}),Cypress.Commands.add("shadowGet",{prevSubject:!1},function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,f),c(e),u(n,f),v(function(){return Cypress.$(e)},n).then(function(n){return Cypress.log({name:"shadowGet",message:"'"+e+"'",consoleProps:function(){return{selector:e,element:n}}}),n})}),Cypress.Commands.add("shadowLast",e,function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,f),d(e),u(n,f),v(function(){return e[e.length-1]},n).then(function(e){return Cypress.log({name:"shadowLast",consoleProps:function(){return{element:e}}}),e})}),Cypress.Commands.add("shadowTrigger",e,y),Cypress.Commands.add("shadowType",e,function(e,n,t){void 0===t&&(t={}),Cypress._.defaults(t,h),d(e),p(n),u(t,h);var o=t.delay;return Cypress.cy.document({log:!1}).then(function(t){try{return Cypress.log({name:"shadowType",message:n,consoleProps:function(){return{text:n}}}),Promise.resolve(Cypress.Promise.all(n.split("").map(function(n){return new Promise(function(s){var r={key:n,code:n.charCodeAt(0)},a=new KeyboardEvent("keydown",r);t.dispatchEvent(a);var i=new KeyboardEvent("keydown",r);t.dispatchEvent(i);var u=new KeyboardEvent("keyup",r);t.dispatchEvent(u),e[0].value+=n;var c=new Event("input",{bubbles:!0,cancelable:!0,composed:!0});e[0].dispatchEvent(c),setTimeout(s,o)})})).then(function(){return new Promise(function(n){var t=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});e[0].dispatchEvent(t),setTimeout(n,o)})}).then(function(){return e}))}catch(e){return Promise.reject(e)}})});
//# sourceMappingURL=bundle.js.map
